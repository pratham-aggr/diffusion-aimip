apiVersion: batch/v1
kind: Job
metadata:
  name: upload-era5-stats-${TIMESTAMP}
  namespace: climate-analytics
spec:
  ttlSecondsAfterFinished: 3600
  template:
    spec:
      restartPolicy: Never
      volumes:
        - name: weatherbench
          persistentVolumeClaim:
            claimName: weatherbench
      containers:
        - name: upload-stats
          image: busybox
          command: ["sleep", "600"]
          volumeMounts:
            - name: weatherbench
              mountPath: /weatherbench
          resources:
            requests:
              cpu: "100m"
              memory: "128Mi"
            limits:
              cpu: "120m"
              memory: "153Mi"
